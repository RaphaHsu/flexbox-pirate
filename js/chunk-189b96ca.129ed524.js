(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-189b96ca"],{"0a0d":function(t,e,a){t.exports=a("e829")},"2f37":function(t,e,a){var s=a("63b6");s(s.S,"Date",{now:function(){return(new Date).getTime()}})},"59ca":function(t,e,a){"use strict";function s(t){return t&&"object"===typeof t&&"default"in t?t["default"]:t}a("95c6");var n=s(a("c23d"));
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t.exports=n},a96a:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-lg-9 col-md-10"},[t.user.id?a("div",{staticClass:"write-area"},[a("div",{staticClass:"input-group mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempData.input,expression:"tempData.input"}],staticClass:"form-control",attrs:{type:"text",placeholder:"留言"},domProps:{value:t.tempData.input},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitMsg()},input:function(e){e.target.composing||t.$set(t.tempData,"input",e.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){return t.submitMsg()}}},[t._v("\n                Button\n              ")])])])]):t._e()]),a("div",{staticClass:"col-lg-9 col-md-10"},t._l(t.messages,function(e,s){return a("div",{key:s,staticClass:"content"},[a("div",{staticClass:"pic",style:{backgroundImage:"url("+e.postUser.photoURL+")"}}),a("div",{staticClass:"txt-area"},[a("div",{staticClass:"con"},[a("h4",[t._v(t._s(e.postUser.displayName))]),a("p",[t._v(t._s(e.content))])]),a("a",{staticClass:"like",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.likes(s)}}},[a("i",{staticClass:"far fa-thumbs-up"}),t._v(" "+t._s(t._f("likes")(e.like))+"\n            ")])]),e.postUser.email==t.user.data.email?a("div",{staticClass:"edit"},[t._m(0,!0)]):t._e()])}),0)])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"#"}},[a("i",{staticClass:"fas fa-ellipsis-v"}),a("div",{staticClass:"con"},[a("a",{attrs:{href:"#"}},[t._v("編輯")]),a("a",{attrs:{href:"#"}},[t._v("刪除")])])])}],i=(a("c5f6"),a("a4bb")),r=a.n(i),c=a("0a0d"),u=a.n(c),o=a("59ca"),l=a.n(o),p={props:["user"],data:function(){return{tempData:{input:""},messages:[]}},methods:{submitMsg:function(){var t=this;l.a.database().ref("msg/").push().set({postUser:t.user.data,content:t.tempData.input,postTime:Math.floor(u()()/1e3),like:0,enable:!0}).then(function(){t.tempData.input=""})},getMsgData:function(){var t=this;l.a.database().ref("msg/").on("value",function(e){t.messages=e.val()})},likes:function(t){var e=this,a="msg/".concat(t,"/like/"),s=r()(e.messages[t].like).map(function(a){return[Number(a),e.messages[t].like[a]]});e.user.id&&(e.messages[t].like[e.user.id]?1===s.length?l.a.database().ref(a).set(0):l.a.database().ref(a+e.user.id).remove():l.a.database().ref(a+e.user.id).set({liked:!0}))}},created:function(){this.getMsgData()}},d=p,f=(a("c343"),a("2877")),m=Object(f["a"])(d,s,n,!1,null,"d909be94",null);e["default"]=m.exports},c343:function(t,e,a){"use strict";var s=a("cee9"),n=a.n(s);n.a},cee9:function(t,e,a){},e829:function(t,e,a){a("2f37"),t.exports=a("584a").Date.now}}]);
//# sourceMappingURL=chunk-189b96ca.129ed524.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-211a21ab"],{"4ff6":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{domProps:{innerHTML:t._s(t.temp.resultStyle)}}),t.GameStatic.start?t._e():a("div",{staticClass:"start"},[a("div",{staticClass:"card content"},[a("h5",{staticClass:"card-header"},[t._v("歡迎挑戰 Flexbox 海盜")]),a("div",{staticClass:"card-body"},[t.data.length?a("h2",{staticClass:"h2 text-center text-success"},[t._v("\n          目前已有 "+t._s(t.data[0].total)+" 位挑戰者成功過關\n        ")]):t._e(),a("hr"),a("h5",{staticClass:"card-title"},[t._v("故事背景")]),t._m(0),a("h5",{staticClass:"card-title mt-4"},[t._v("遊戲辦法")]),t._m(1)]),a("div",{staticClass:"card-footer text-muted text-right"},[a("a",{staticClass:"btn btn-success",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.startGame(e)}}},[t._v("馬上開始")])])])]),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-4 col-lg-3 left-con"},[a("h2",{staticClass:"mt-5 h2"},[t._v("Flex Pirate 挑戰")]),a("hr"),a("div",{staticClass:"question mb-3 card"},[a("div",{staticClass:"card-body"},[a("p",{staticClass:"mb-1"},[t._v("Level  "),a("b",[t._v(t._s(t.levelVal+1))]),t._v(" /20")]),t._v("\n          "+t._s(t.game[t.levelVal].topic)+"\n          "),a("p",{staticClass:"notice",domProps:{innerHTML:t._s(t.game[t.levelVal].notice)}})])]),t._l(t.game[t.levelVal].prompt,function(e,n){return a("div",{key:n,staticClass:"codes"},[a("b",[t._v(t._s(e))]),t._v(" {\n          "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.temp.writeStyle[n],expression:"temp.writeStyle[index]"}],attrs:{id:"code"+n,rows:"6"},domProps:{value:t.temp.writeStyle[n]},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab"))return null;e.preventDefault()},input:function(e){e.target.composing||t.$set(t.temp.writeStyle,n,e.target.value)}}}),"發射"!==t.GameStatic.nextBtn?a("p",{staticClass:"hit"},[a("span",[t._v(t._s(t.GameStatic.nextBtn))])]):t._e(),t._v("\n          }\n        ")])}),t.temp.wrongCode?a("div",{staticClass:"wrong mt-3 card border-danger"},[a("div",{staticClass:"card-body"},[t._v("\n            "+t._s(t.temp.wrongCode)+"\n          ")])]):t._e(),"發射"==t.GameStatic.nextBtn?a("button",{staticClass:"btn btn-danger mt-5",on:{click:t.checkAnswer}},[t._v("\n          "+t._s(t.GameStatic.nextBtn)+"\n        ")]):t._e(),"發射"!==t.GameStatic.nextBtn?a("button",{staticClass:"btn btn-warning mt-5",on:{click:t.nextPage}},[t._v("\n          下一關\n        ")]):t._e()],2),a("div",{staticClass:"col-8 col-lg-9 playground"},[a("nav",{staticClass:"playNav"},[a("p",{staticClass:"level"},[t._v("Level."+t._s(t.levelVal+1))])]),a("div",{staticClass:"flexbox",attrs:{id:"p"+t.levelVal}},[-1===t.temp.direction?a("h3",{staticClass:"main"},[t._v("主軸線")]):t._e(),-1===t.temp.direction?a("h3",{staticClass:"vice"},[t._v("交錯軸")]):t._e(),-1!==t.temp.direction?a("h3",{staticClass:"vice column"},[t._v("主軸線")]):t._e(),-1!==t.temp.direction?a("h3",{staticClass:"main column"},[t._v("交錯軸")]):t._e(),a("div",{domProps:{innerHTML:t._s(t.game[t.levelVal].html)}}),a("div",{staticClass:"flex-container"},[a("div",{staticClass:"grid-con"},[a("div",{class:{main:!0,column:-1!==t.temp.direction}}),a("div",{class:{vice:!0,column:-1!==t.temp.direction}}),t._l(36,function(t){return a("div",{key:t,staticClass:"grid"})})],2)])])])])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"card-text"},[t._v("\n          有一天 FLEX 海盜集團襲擊了國王的領土，還偷走了皇冠。\n          "),a("br"),t._v("國王決定派出六角戰艦，欲將 FLEX 海盜集團殲滅並取出皇冠。\n          "),a("br"),t._v("FLEX 海盜集團的活動範圍被分為 20 層，想要拿到皇冠需要達到 FLEX 最深層才行。\n        ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"card-text"},[t._v("\n          請將"),a("b",[t._v("座標圖上的準心瞄準到對應的海盜船上")]),t._v("，瞄準完成後按下紅色按鈕發射飛彈，一層一層將 FLEX 海盜集團攻破!\n        ")])}],s=(a("55dd"),a("6b54"),a("a4bb")),r=a.n(s),c=(a("28a5"),a("ac6a"),a("7618")),l=(a("a481"),a("44be")),o={name:"Simple",data:function(){return{data:[],levelVal:0,temp:{writeStyle:[],resultStyle:"",wrongCode:"",ansRight:!0,direction:-1},GameStatic:{start:!1,nextBtn:"發射",end:!1,second:0},game:l["a"]}},watch:{"temp.writeStyle":{handler:function(t){var e=this,a=e.resultCSS(t);e.temp.resultStyle="<style>".concat(a,"</style>"),e.temp.direction=a.replace(/\s+/g,"").indexOf("flex-direction:column")},deep:!0}},methods:{getData:function(){var t="https://flexbox-api-test.herokuapp.com/participantcount",e=this;this.$http.get(t).then(function(t){e.data=t.data})},trimSemiColon:function(t){return";"===t.slice(-1)?t.slice(0,this.length-1):t},JsonCSS:function(t){var e=this;if("string"!==typeof t)return console.error("Need a CSS string but given ",Object(c["a"])(t),t),"Not a valid CSS..!";var a,n,i,s={},r=/\r\n|\r|\n|\u2028|\u2029/g;try{t.split("{").forEach(function(t){if(n=t.trim(),n)if(-1===n.indexOf("}"))s[n]={},a=n;else{n.substring(0,n.indexOf("}")).split(";").forEach(function(t){i=t.split(":"),i&&2===i.length&&(s[a][i[0].trim().replace(r,"")]=e.trimSemiColon(i[1].trim().replace(r,"")))});try{a=n.split("}")[1].trim(),a&&(s[a]={})}catch(c){}}})}catch(l){return"Not a valid CSS..!"}return s},resultCSS:function(t){for(var e=this,a="",n=0;n<t.length;n+=1)a+="\n          ".concat(e.game[e.levelVal].prompt[n],"{\n            ").concat(t[n],"\n          }\n        ");return a},checkAnswer:function(){for(var t=this,e=t.game[t.levelVal].ans,a=r()(e),n=!1,i=t.JsonCSS(t.resultCSS(t.temp.writeStyle)),s=0;s<a.length;s+=1){for(var c=a[s],l=i[c],o=r()(l),d=t.game[t.levelVal].ans[c],m=0;m<o.length;m+=1){var v=o[m],u=l[v];if(!e[c][v])return t.temp.wrongCode="不需要用到 ".concat(v),t.temp.ansRight=!1,!1;e[c][v]===u||(t.temp.wrongCode="".concat(v," 的值錯誤"),t.temp.ansRight=!1)}n=r()(d).sort().toString()===o.sort().toString()}return 7===t.levelVal&&n&&t.temp.ansRight?t.GameStatic.nextBtn="移動成功":n&&t.temp.ansRight?t.GameStatic.nextBtn="擊中目標":t.temp.wrongCode&&n&&(t.temp.ansRight=!0,t.temp.wrongCode="沒有打中"),!1},nextPage:function(){var t=this;19===t.levelVal?t.endGame():(t.levelVal+=1,t.temp.writeStyle=[],t.temp.wrongCode="",t.GameStatic.nextBtn="發射")},startGame:function(){var t=this,e=new Date;t.GameStatic.start=!0,localStorage.setItem("startTime",String(e)),localStorage.setItem("endTime","")},endGame:function(){var t=this,e=new Date;t.GameStatic.end=!0,localStorage.setItem("endTime",String(e)),this.$router.push("end")}},created:function(){this.getData()}},d=o,m=(a("a6bc"),a("2877")),v=Object(m["a"])(d,n,i,!1,null,"139a7d2b",null);e["default"]=v.exports},a6bc:function(t,e,a){"use strict";var n=a("acc7"),i=a.n(n);i.a},acc7:function(t,e,a){}}]);
//# sourceMappingURL=chunk-211a21ab.e47e8986.js.map